---
data:
  _extendedDependsOn: []
  _extendedRequiredBy:
  - icon: ':heavy_check_mark:'
    path: crates/algebraic/rational/src/lib.rs
    title: crates/algebraic/rational/src/lib.rs
  - icon: ':warning:'
    path: crates/algorithm/binary-search/src/lib.rs
    title: crates/algorithm/binary-search/src/lib.rs
  - icon: ':warning:'
    path: crates/algorithm/ternary-search/src/lib.rs
    title: crates/algorithm/ternary-search/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/disjoint-sparse-table/src/lib.rs
    title: crates/data-structure/disjoint-sparse-table/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/dual-range-tree/src/lib.rs
    title: crates/data-structure/dual-range-tree/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/dual-segment-tree/src/lib.rs
    title: crates/data-structure/dual-segment-tree/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/fenwick-tree/src/lib.rs
    title: crates/data-structure/fenwick-tree/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/lazy-segment-tree/src/lib.rs
    title: crates/data-structure/lazy-segment-tree/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/link-cut-tree/src/lib.rs
    title: crates/data-structure/link-cut-tree/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/range-tree/src/lib.rs
    title: crates/data-structure/range-tree/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/rollback-union-find-component-sum/src/lib.rs
    title: crates/data-structure/rollback-union-find-component-sum/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/segment-tree-on-wavelet-matrix/src/lib.rs
    title: crates/data-structure/segment-tree-on-wavelet-matrix/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/segment-tree/src/lib.rs
    title: crates/data-structure/segment-tree/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/sliding-window-aggregation/src/lib.rs
    title: crates/data-structure/sliding-window-aggregation/src/lib.rs
  - icon: ':warning:'
    path: crates/data-structure/splay-tree-internal/src/lib.rs
    title: crates/data-structure/splay-tree-internal/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/splay-tree/src/lib.rs
    title: crates/data-structure/splay-tree/src/lib.rs
  - icon: ':warning:'
    path: crates/data-structure/union-find-component-sum/src/lib.rs
    title: crates/data-structure/union-find-component-sum/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/vertex-add-range-contour-sum/src/lib.rs
    title: crates/data-structure/vertex-add-range-contour-sum/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/data-structure/vertex-get-range-contour-add/src/lib.rs
    title: crates/data-structure/vertex-get-range-contour-add/src/lib.rs
  - icon: ':warning:'
    path: crates/dp/automaton-dp/src/lib.rs
    title: crates/dp/automaton-dp/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/math/discrete-logarithm/src/lib.rs
    title: crates/math/discrete-logarithm/src/lib.rs
  - icon: ':warning:'
    path: crates/math/div/src/lib.rs
    title: crates/math/div/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/math/matrix/src/lib.rs
    title: crates/math/matrix/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/math/min_25-sieve/src/lib.rs
    title: crates/math/min_25-sieve/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/math/modint61/src/lib.rs
    title: crates/math/modint61/src/lib.rs
  - icon: ':warning:'
    path: crates/math/montgomery-modint/src/lib.rs
    title: crates/math/montgomery-modint/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/math/stern-brocot-tree/src/lib.rs
    title: crates/math/stern-brocot-tree/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/number-theory/modint/src/lib.rs
    title: crates/number-theory/modint/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/string/rolling-hash/src/lib.rs
    title: crates/string/rolling-hash/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/string/suffix-array/src/lib.rs
    title: crates/string/suffix-array/src/lib.rs
  - icon: ':heavy_check_mark:'
    path: crates/tree/re-rooting-dp/src/lib.rs
    title: crates/tree/re-rooting-dp/src/lib.rs
  - icon: ':warning:'
    path: crates/tree/zero-one-on-tree/src/lib.rs
    title: crates/tree/zero-one-on-tree/src/lib.rs
  _extendedVerifiedWith:
  - icon: ':heavy_check_mark:'
    path: verify/bitwise_and_convolution/src/main.rs
    title: verify/bitwise_and_convolution/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/bitwise_xor_convolution/src/main.rs
    title: verify/bitwise_xor_convolution/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/deque_operate_all_composite/src/main.rs
    title: verify/deque_operate_all_composite/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/dynamic_graph_vertex_add_component_sum/src/main.rs
    title: verify/dynamic_graph_vertex_add_component_sum/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/dynamic_sequence_range_affine_range_sum/src/main.rs
    title: verify/dynamic_sequence_range_affine_range_sum/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/dynamic_tree_vertex_add_path_sum/src/main.rs
    title: verify/dynamic_tree_vertex_add_path_sum/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/dynamic_tree_vertex_set_path_composite/src/main.rs
    title: verify/dynamic_tree_vertex_set_path_composite/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/gcd_convolution/src/main.rs
    title: verify/gcd_convolution/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/lcm_convolution/src/main.rs
    title: verify/lcm_convolution/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/point_add_range_sum/src/main.rs
    title: verify/point_add_range_sum/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/point_add_rectangle_sum/src/main.rs
    title: verify/point_add_rectangle_sum/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/point_add_rectangle_sum_2/src/main.rs
    title: verify/point_add_rectangle_sum_2/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/queue_operate_all_composite/src/main.rs
    title: verify/queue_operate_all_composite/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/range_affine_point_get/src/main.rs
    title: verify/range_affine_point_get/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/range_affine_range_sum/src/main.rs
    title: verify/range_affine_range_sum/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/range_reverse_range_sum/src/main.rs
    title: verify/range_reverse_range_sum/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/rectangle_add_point_get/src/main.rs
    title: verify/rectangle_add_point_get/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/static_range_inversions_query/src/main.rs
    title: verify/static_range_inversions_query/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/staticrmq/src/main.rs
    title: verify/staticrmq/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/tree_path_composite_sum/src/main.rs
    title: verify/tree_path_composite_sum/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/vertex_add_path_sum/src/main.rs
    title: verify/vertex_add_path_sum/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/vertex_add_range_contour_sum_on_tree/src/main.rs
    title: verify/vertex_add_range_contour_sum_on_tree/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/vertex_add_subtree_sum/src/main.rs
    title: verify/vertex_add_subtree_sum/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/vertex_get_range_contour_add_on_tree/src/main.rs
    title: verify/vertex_get_range_contour_add_on_tree/src/main.rs
  - icon: ':heavy_check_mark:'
    path: verify/vertex_set_path_composite/src/main.rs
    title: verify/vertex_set_path_composite/src/main.rs
  _isVerificationFailed: false
  _pathExtension: rs
  _verificationStatusIcon: ':heavy_check_mark:'
  attributes:
    links: []
  bundledCode: "Traceback (most recent call last):\n  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/onlinejudge_verify/documentation/build.py\"\
    , line 71, in _render_source_code_stat\n    bundled_code = language.bundle(stat.path,\
    \ basedir=basedir, options={'include_paths': [basedir]}).decode()\n          \
    \         ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
    \  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/onlinejudge_verify/languages/rust.py\"\
    , line 288, in bundle\n    raise NotImplementedError\nNotImplementedError\n"
  code: "use std::marker::PhantomData;\n\npub trait Algebra {\n    type S;\n}\n\n\
    pub trait Act: Algebra {\n    type X;\n    fn act(f: &Self::S, x: &Self::X) ->\
    \ Self::X;\n}\n\npub trait Monoid: Algebra {\n    fn e() -> Self::S;\n    fn op(x:\
    \ &Self::S, y: &Self::S) -> Self::S;\n    fn pow(x: &Self::S, e: usize) -> Self::S\
    \ {\n        let mut res = Self::e();\n        let mut x = Self::op(&Self::e(),\
    \ x);\n        let mut e = e;\n        while e > 0 {\n            if e & 1 ==\
    \ 1 {\n                res = Self::op(&res, &x);\n            }\n            x\
    \ = Self::op(&x, &x);\n            e >>= 1;\n        }\n        res\n    }\n}\n\
    \n#[derive(Clone, Copy)]\npub struct ReversedMonoid<M: Monoid>(PhantomData<fn()\
    \ -> M>);\n\nimpl<M: Monoid> Algebra for ReversedMonoid<M> {\n    type S = M::S;\n\
    }\n\nimpl<M: Monoid> Monoid for ReversedMonoid<M> {\n    fn e() -> Self::S {\n\
    \        M::e()\n    }\n\n    fn op(x: &Self::S, y: &Self::S) -> Self::S {\n \
    \       M::op(y, x)\n    }\n}\n\nimpl<M: Monoid + Act> Act for ReversedMonoid<M>\
    \ {\n    type X = M::X;\n\n    fn act(f: &Self::S, x: &Self::X) -> Self::X {\n\
    \        M::act(f, x)\n    }\n}\n\npub trait Group: Monoid {\n    fn inv(x: &Self::S)\
    \ -> Self::S;\n}\n\n#[derive(Clone, Copy)]\npub struct ReversedGroup<G: Group>(PhantomData<fn()\
    \ -> G>);\n\nimpl<G: Group> Algebra for ReversedGroup<G> {\n    type S = G::S;\n\
    }\n\nimpl<G: Group> Monoid for ReversedGroup<G> {\n    fn e() -> Self::S {\n \
    \       G::e()\n    }\n\n    fn op(x: &Self::S, y: &Self::S) -> Self::S {\n  \
    \      G::op(y, x)\n    }\n}\n\nimpl<G: Group> Group for ReversedGroup<G> {\n\
    \    fn inv(x: &Self::S) -> Self::S {\n        G::inv(x)\n    }\n}\n\nimpl<G:\
    \ Group + Act> Act for ReversedGroup<G> {\n    type X = G::X;\n\n    fn act(f:\
    \ &Self::S, x: &Self::X) -> Self::X {\n        G::act(f, x)\n    }\n}\n\npub trait\
    \ Zero {\n    fn zero() -> Self;\n    fn is_zero(&self) -> bool;\n}\n\npub trait\
    \ One {\n    fn one() -> Self;\n    fn is_one(&self) -> bool;\n}\n\n/// \u4EE3\
    \u6570\u578B\u306E\u5B9A\u7FA9  \n/// algebra!(\u4EE3\u6570\u578B\u540D, \u578B\
    )  \n/// # Example\n/// ```\n/// use algebraic::algebra;\n/// algebra!(M, i32);\n\
    /// ```\n#[macro_export]\nmacro_rules! algebra {\n    ($ident:ident, $ty:ty) =>\
    \ {\n        #[derive(Clone)]\n        enum $ident {}\n        impl $crate::Algebra\
    \ for $ident {\n            type S = $ty;\n        }\n    };\n}\n\n/// \u4EE3\u6570\
    \u578B\u306B\u4F5C\u7528\u3092\u5B9A\u7FA9  \n/// act!(\u4EE3\u6570\u578B\u540D\
    , \u4F5C\u7528\u5148\u306E\u578B, \u4F5C\u7528)  \n/// # Example\n/// ```\n///\
    \ use algebraic::{act, algebra};\n/// algebra!(F, i32);\n/// act!(F, i32, |&f:\
    \ &i32, &x: &i32| f * x);\n/// ```\n#[macro_export]\nmacro_rules! act {\n    ($ident:ident,\
    \ $tar:ty, $act:expr) => {\n        impl $crate::Act for $ident {\n          \
    \  type X = $tar;\n            #[inline]\n            fn act(f: &Self::S, x: &Self::X)\
    \ -> Self::X {\n                $act(f, x)\n            }\n        }\n    };\n\
    }\n\n/// \u30E2\u30CE\u30A4\u30C9\u306E\u5B9A\u7FA9  \n/// monoid!(\u4EE3\u6570\
    \u578B\u540D, \u5358\u4F4D\u5143, \u6F14\u7B97)  \n/// # Example\n/// ```\n///\
    \ use algebraic::{algebra, monoid};\n/// algebra!(M, i32);\n/// monoid!(M, 1,\
    \ |&x: &i32, &y: &i32| x * y);\n/// ```\n#[macro_export]\nmacro_rules! monoid\
    \ {\n    ($ident:ident, $e:expr, $op:expr) => {\n        impl $crate::Monoid for\
    \ $ident {\n            #[inline]\n            fn e() -> Self::S {\n         \
    \       $e\n            }\n            #[inline]\n            fn op(x: &Self::S,\
    \ y: &Self::S) -> Self::S {\n                $op(x, y)\n            }\n      \
    \  }\n    };\n}\n\n/// \u7FA4\u306E\u5B9A\u7FA9  \n/// group!(\u4EE3\u6570\u578B\
    \u540D, \u5358\u4F4D\u5143, \u6F14\u7B97, \u9006\u5143)  \n/// # Example\n///\
    \ ```\n/// use algebraic::{algebra, group};\n/// algebra!(G, i32);\n/// group!(G,\
    \ 1, |&x: &i32, &y: &i32| x + y, |&x: &i32| -x);\n/// ```\n#[macro_export]\nmacro_rules!\
    \ group {\n    ($ident:ident, $e:expr, $op:expr, $inv:expr) => {\n        impl\
    \ $crate::Monoid for $ident {\n            #[inline]\n            fn e() -> Self::S\
    \ {\n                $e\n            }\n            #[inline]\n            fn\
    \ op(x: &Self::S, y: &Self::S) -> Self::S {\n                $op(x, y)\n     \
    \       }\n        }\n        impl $crate::Group for $ident {\n            #[inline]\n\
    \            fn inv(x: &Self::S) -> Self::S {\n                $inv(x)\n     \
    \       }\n        }\n    };\n}\n\nmacro_rules! impl_zero_one {\n    ($($t:ty)*)\
    \ => {\n        $(\n            impl $crate::Zero for $t {\n                fn\
    \ zero() -> Self {\n                    0\n                }\n               \
    \ fn is_zero(&self) -> bool {\n                    *self == 0\n              \
    \  }\n            }\n            impl $crate::One for $t {\n                fn\
    \ one() -> Self {\n                    1\n                }\n                fn\
    \ is_one(&self) -> bool {\n                    *self == 1\n                }\n\
    \            }\n        )*\n    };\n}\n\nimpl_zero_one!(usize u8 u16 u32 u64 u128\
    \ isize i8 i16 i32 i64 i128);\n"
  dependsOn: []
  isVerificationFile: false
  path: crates/algebraic/algebraic/src/lib.rs
  requiredBy:
  - crates/math/matrix/src/lib.rs
  - crates/math/discrete-logarithm/src/lib.rs
  - crates/math/montgomery-modint/src/lib.rs
  - crates/math/div/src/lib.rs
  - crates/math/min_25-sieve/src/lib.rs
  - crates/math/stern-brocot-tree/src/lib.rs
  - crates/math/modint61/src/lib.rs
  - crates/data-structure/vertex-add-range-contour-sum/src/lib.rs
  - crates/data-structure/disjoint-sparse-table/src/lib.rs
  - crates/data-structure/link-cut-tree/src/lib.rs
  - crates/data-structure/union-find-component-sum/src/lib.rs
  - crates/data-structure/fenwick-tree/src/lib.rs
  - crates/data-structure/lazy-segment-tree/src/lib.rs
  - crates/data-structure/splay-tree-internal/src/lib.rs
  - crates/data-structure/segment-tree-on-wavelet-matrix/src/lib.rs
  - crates/data-structure/splay-tree/src/lib.rs
  - crates/data-structure/vertex-get-range-contour-add/src/lib.rs
  - crates/data-structure/rollback-union-find-component-sum/src/lib.rs
  - crates/data-structure/dual-segment-tree/src/lib.rs
  - crates/data-structure/segment-tree/src/lib.rs
  - crates/data-structure/dual-range-tree/src/lib.rs
  - crates/data-structure/sliding-window-aggregation/src/lib.rs
  - crates/data-structure/range-tree/src/lib.rs
  - crates/algorithm/ternary-search/src/lib.rs
  - crates/algorithm/binary-search/src/lib.rs
  - crates/number-theory/modint/src/lib.rs
  - crates/algebraic/rational/src/lib.rs
  - crates/dp/automaton-dp/src/lib.rs
  - crates/tree/zero-one-on-tree/src/lib.rs
  - crates/tree/re-rooting-dp/src/lib.rs
  - crates/string/rolling-hash/src/lib.rs
  - crates/string/suffix-array/src/lib.rs
  timestamp: '2025-01-11 09:03:35+00:00'
  verificationStatus: LIBRARY_ALL_AC
  verifiedWith:
  - verify/gcd_convolution/src/main.rs
  - verify/dynamic_sequence_range_affine_range_sum/src/main.rs
  - verify/range_affine_range_sum/src/main.rs
  - verify/staticrmq/src/main.rs
  - verify/bitwise_and_convolution/src/main.rs
  - verify/vertex_add_path_sum/src/main.rs
  - verify/deque_operate_all_composite/src/main.rs
  - verify/vertex_get_range_contour_add_on_tree/src/main.rs
  - verify/range_affine_point_get/src/main.rs
  - verify/rectangle_add_point_get/src/main.rs
  - verify/point_add_range_sum/src/main.rs
  - verify/lcm_convolution/src/main.rs
  - verify/tree_path_composite_sum/src/main.rs
  - verify/point_add_rectangle_sum/src/main.rs
  - verify/bitwise_xor_convolution/src/main.rs
  - verify/dynamic_tree_vertex_add_path_sum/src/main.rs
  - verify/queue_operate_all_composite/src/main.rs
  - verify/static_range_inversions_query/src/main.rs
  - verify/point_add_rectangle_sum_2/src/main.rs
  - verify/range_reverse_range_sum/src/main.rs
  - verify/dynamic_tree_vertex_set_path_composite/src/main.rs
  - verify/dynamic_graph_vertex_add_component_sum/src/main.rs
  - verify/vertex_add_range_contour_sum_on_tree/src/main.rs
  - verify/vertex_add_subtree_sum/src/main.rs
  - verify/vertex_set_path_composite/src/main.rs
documentation_of: crates/algebraic/algebraic/src/lib.rs
layout: document
redirect_from:
- /library/crates/algebraic/algebraic/src/lib.rs
- /library/crates/algebraic/algebraic/src/lib.rs.html
title: crates/algebraic/algebraic/src/lib.rs
---
